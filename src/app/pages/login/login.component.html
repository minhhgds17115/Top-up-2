<nb-layout>
  <nb-layout-column>
    <nb-card
        [nbSpinner]="isSubmitting"
        nbSpinnerStatus="danger"
        nbSpinnerSize="giant">
      <nb-card-body>
        <nb-auth-block>
          <h1 id="title" class="title">Login</h1>
          <p class="sub-title">Please fill the form</p>

          <form [formGroup]="signInForm" (ngSubmit)="login()" #form="ngForm" aria-labelledby="title">

            <div class="form-control-group">
              <label class="label" for="input-username">Username:</label>
              <input id="input-username" nbInput fullWidth formControlName="userName" required name="username">
              <ng-container *ngIf="usernameControl.invalid && usernameControl.touched">
                <p class="caption status-danger" *ngIf="usernameControl.getError('required')">
                  Username is required!
                </p>
              </ng-container>
            </div>
            <div class="form-control-group">
              <label class="label" for="input-password">Password:</label>
              <input id="input-password" nbInput fullWidth formControlName="password" required name="userName"
                type="password">
              <ng-container *ngIf="passwordControl.invalid && passwordControl.touched">
                <p class="caption status-danger" *ngIf="passwordControl.getError('required')">
                  Password is required!
                </p>
              </ng-container>
            </div>

            <button nbButton fullWidth status="success" [disabled]="isSubmitting || !signInForm.valid" [class.btn-pulse]="true">
              Log In
            </button>
          </form>

        </nb-auth-block>
      </nb-card-body>
    </nb-card>
  </nb-layout-column>
</nb-layout>